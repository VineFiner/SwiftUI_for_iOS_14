WEBVTT

1
00:00:06.086 --> 00:00:08.669
SWIFT UI 2 - 侧边栏和标签
设置侧边栏导航，用于iOS14和macOS

2
00:00:12.680 --> 00:00:13.710
<v Meng>你好，欢迎回来</v>

3
00:00:13.710 --> 00:00:16.240
参加第四节SwiftUI课程

4
00:00:16.240 --> 00:00:19.480
今天，我们将学习新的侧边栏

5
00:00:19.480 --> 00:00:22.920
Apple重新设计了大多数iPad应用程序

6
00:00:22.920 --> 00:00:24.480
以容纳新的侧边栏

7
00:00:24.480 --> 00:00:28.020
因为它将与Mac应用程序更加一致

8
00:00:28.020 --> 00:00:30.390
从用户界面的角度来看，我们现在能够

9
00:00:30.390 --> 00:00:34.450
利用iPad上可供我们使用的所有空间

10
00:00:34.450 --> 00:00:37.040
这里的导航栏有很多内容

11
00:00:37.040 --> 00:00:40.190
你可以有多个分组，可折叠的菜单

12
00:00:40.190 --> 00:00:44.910
甚至是非常深入的多级导航

13
00:00:44.910 --> 00:00:46.650
最重要的是，它可以折叠

14
00:00:46.650 --> 00:00:48.990
它将保留在导航栏上

15
00:00:48.990 --> 00:00:51.470
如果是处于横向模式

16
00:00:51.470 --> 00:00:52.610
你不会看到它

17
00:00:52.610 --> 00:00:54.450
你可以从左侧滑动

18
00:00:54.450 --> 00:00:58.660
或者你可以单击此按钮以启用菜单

19
00:00:58.660 --> 00:01:02.792
iPhone顶栏的大部分将被替换为

20
00:01:02.792 --> 00:01:07.300
iPad的侧边栏，但你可以在iPhone上同时使用两者

21
00:01:07.300 --> 00:01:09.420
这样你就可以决定同时拥有

22
00:01:09.420 --> 00:01:11.920
顶栏和侧边栏

23
00:01:11.920 --> 00:01:12.753
实际上

24
00:01:12.753 --> 00:01:16.010
它就是一个带有导航标题的列表

25
00:01:16.010 --> 00:01:18.441
安装起来将非常简便

26
00:01:18.441 --> 00:01:21.500
它将具有非常强的适应性

27
00:01:21.500 --> 00:01:22.570
回到Xcode

28
00:01:22.570 --> 00:01:25.690
我们要为侧边栏创建一个新文件

29
00:01:25.690 --> 00:01:27.570
Command + N

30
00:01:27.570 --> 00:01:30.893
按Enter，选择SwiftUI视图

31
00:01:32.270 --> 00:01:34.513
我们将其命名为侧边栏

32
00:01:36.050 --> 00:01:38.450
让我们重新启用预览

33
00:01:38.450 --> 00:01:43.070
我们将用标签代替文本

34
00:01:43.070 --> 00:01:45.200
首先，我要删除它

35
00:01:45.200 --> 00:01:50.090
使用Command + Shift + L来搜索标签

36
00:01:50.090 --> 00:01:52.610
直接拖动到代码

37
00:01:52.610 --> 00:01:54.900
放在花括号之间

38
00:01:54.900 --> 00:01:57.820
标签的妙处在于它将

39
00:01:57.820 --> 00:02:00.850
用1行代码取代约4行代码

40
00:02:00.850 --> 00:02:03.210
在这里你可以自定义文本

41
00:02:03.210 --> 00:02:05.980
以及SF符号名称

42
00:02:05.980 --> 00:02:10.980
让我们双击"标签"，然后将其更改为"课程"

43
00:02:11.070 --> 00:02:12.340
对于SF符号

44
00:02:12.340 --> 00:02:16.970
我们将其更改为book.closed

45
00:02:16.970 --> 00:02:18.710
现在要创建侧边栏菜单

46
00:02:18.710 --> 00:02:22.920
你要做的就是将其嵌入列表中

47
00:02:22.920 --> 00:02:26.620
首先，我们按住Command，同时单击标签

48
00:02:26.620 --> 00:02:29.410
我们将其嵌入到Vstack中

49
00:02:29.410 --> 00:02:33.483
然后我们将Vstack更改为List

50
00:02:34.890 --> 00:02:38.680
非常妙的是可以设置列表样式

51
00:02:38.680 --> 00:02:41.620
输入 .listStyle

52
00:02:41.620 --> 00:02:46.620
我们将其设置为SidebarListStyle 加括号

53
00:02:47.130 --> 00:02:49.310
这时，样式就设置好了

54
00:02:49.310 --> 00:02:51.670
但是我们还缺少导航

55
00:02:51.670 --> 00:02:53.530
为了设置导航

56
00:02:53.530 --> 00:02:57.460
我们需要将它放入到导航视图中

57
00:02:57.460 --> 00:03:02.460
我要通过Command + click，将其嵌入VStack

58
00:03:02.750 --> 00:03:05.963
并将VStack更改为NavigationView

59
00:03:07.670 --> 00:03:10.230
现在如果我点击播放

60
00:03:10.230 --> 00:03:13.960
在滚动时，你会看到我有导航栏

61
00:03:13.960 --> 00:03:16.290
这意味着我可以在此处放置标题

62
00:03:16.290 --> 00:03:18.170
在listStyle之后

63
00:03:18.170 --> 00:03:21.110
我们要输入 .navigationTitle

64
00:03:22.140 --> 00:03:24.840
然后输入Learn

65
00:03:24.840 --> 00:03:27.810
有了导航标题之后，当我滚动时

66
00:03:27.810 --> 00:03:31.700
它会切换到导航栏

67
00:03:31.700 --> 00:03:34.230
我可以很容易地添加更多菜单项

68
00:03:34.230 --> 00:03:37.980
我只需复制并粘贴标签

69
00:03:37.980 --> 00:03:41.400
这将会在它们之间添加一个分隔符

70
00:03:41.400 --> 00:03:44.300
我要最大化这个空间

71
00:03:44.300 --> 00:03:45.840
我要填写一些内容

72
00:03:45.840 --> 00:03:48.340
下一个是Tutorials

73
00:03:48.340 --> 00:03:50.715
该图标将会是

74
00:03:50.715 --> 00:03:54.850
list.bullet.rectangle

75
00:03:54.850 --> 00:03:58.060
你可以使用自己的图标，并创建自己的菜单

76
00:03:58.060 --> 00:03:59.930
让我做下一个

77
00:03:59.930 --> 00:04:01.780
你可以复制和粘贴我的代码

78
00:04:01.780 --> 00:04:03.980
它会显示在文字描述部分

79
00:04:03.980 --> 00:04:06.140
正如像标签栏一样，我们要确保

80
00:04:06.140 --> 00:04:08.400
当我们单击其中一个菜单项时

81
00:04:08.400 --> 00:04:11.290
它会转到屏幕本身

82
00:04:11.290 --> 00:04:14.700
对于第一个标签，我要按住Command，然后点击

83
00:04:14.700 --> 00:04:16.610
将其嵌入 VStack 中

84
00:04:16.610 --> 00:04:18.828
我这次将使用

85
00:04:18.828 --> 00:04:22.891
NavigationLink加括号

86
00:04:22.891 --> 00:04:24.891
Destination ，小写字母

87
00:04:26.239 --> 00:04:29.560
然后将其链接到CoursesView，加括号

88
00:04:29.560 --> 00:04:33.350
我这样做之后，你会在这里看到箭头

89
00:04:33.350 --> 00:04:36.920
我可以单击它，然后转到我的视图

90
00:04:36.920 --> 00:04:40.630
这就是侧边栏在iPhone上的样子

91
00:04:40.630 --> 00:04:44.250
对于iPad，我们将切换设备

92
00:04:44.250 --> 00:04:47.970
然后我们选择11英寸iPad Pro

93
00:04:47.970 --> 00:04:50.750
我们将需要缩小一点

94
00:04:50.750 --> 00:04:53.840
你会发现它基本上是完全相同的

95
00:04:53.840 --> 00:04:56.400
只是它是从左侧滑动的

96
00:04:56.400 --> 00:04:58.890
现在你会注意到，在默认情况下

97
00:04:58.890 --> 00:05:00.940
没有内容加载

98
00:05:00.940 --> 00:05:03.750
老实说，我不知道这是否是设计使然

99
00:05:03.750 --> 00:05:05.710
但是我找到了一个解决办法

100
00:05:05.710 --> 00:05:08.830
就在列表之后

101
00:05:08.830 --> 00:05:11.900
我们将插入课程视图

102
00:05:11.900 --> 00:05:15.550
输入 CourssView，加括号

103
00:05:15.550 --> 00:05:17.690
当你首次加载应用程序时

104
00:05:17.690 --> 00:05:20.180
默认情况下将显示此屏幕

105
00:05:20.180 --> 00:05:21.660
在预览中

106
00:05:21.660 --> 00:05:24.223
它不会显示横向模式

107
00:05:24.223 --> 00:05:26.160
所以为了测试

108
00:05:26.160 --> 00:05:28.410
我将通过 Command + R

109
00:05:28.410 --> 00:05:30.900
或单击此处的播放按钮

110
00:05:30.900 --> 00:05:33.640
然后转到iOS模拟器

111
00:05:33.640 --> 00:05:36.120
这将会构建应用程序

112
00:05:36.120 --> 00:05:37.300
当我建立应用程序时

113
00:05:37.300 --> 00:05:41.670
你会注意到，在默认情况下它会加载我的卡上

114
00:05:41.670 --> 00:05:45.090
那是因为我还没有设置初始屏幕

115
00:05:45.090 --> 00:05:48.120
因此，它将要加载的第一个文件

116
00:05:48.120 --> 00:05:50.920
被称为DesignCodeCourseApp

117
00:05:50.920 --> 00:05:54.540
你可以看到，它被链接到ContentView

118
00:05:54.540 --> 00:05:59.430
我们可以将其更改为侧边栏，再次按Command + R

119
00:05:59.430 --> 00:06:03.080
太棒了，你可以在左侧看到我的侧边栏

120
00:06:03.080 --> 00:06:04.640
你可以选择它

121
00:06:04.640 --> 00:06:07.640
在默认情况下，还会显示此内容

122
00:06:07.640 --> 00:06:09.763
你可以切换侧边栏

123
00:06:10.650 --> 00:06:11.560
这非常顺畅

124
00:06:11.560 --> 00:06:13.460
因此，只需几行代码

125
00:06:13.460 --> 00:06:16.540
我能够创建一个漂亮的动态用户界面

126
00:06:16.540 --> 00:06:19.160
这里可以放入很多内容

127
00:06:19.160 --> 00:06:20.560
最后还有一件事

128
00:06:20.560 --> 00:06:24.450
你还可以为课程视图设置导航标题

129
00:06:24.450 --> 00:06:28.130
用于菜单中的任何视图

130
00:06:28.130 --> 00:06:30.870
为此，我要去CoursesView

131
00:06:30.870 --> 00:06:33.250
在listStyle之后

132
00:06:33.250 --> 00:06:35.870
我们将设置 .navigationTitle

133
00:06:35.870 --> 00:06:38.980
这次我们要输入 Course

134
00:06:38.980 --> 00:06:40.833
让我们再次运行应用程序

135
00:06:43.950 --> 00:06:44.900
太好了

136
00:06:44.900 --> 00:06:47.600
你可以看到，在左侧出现了菜单

137
00:06:47.600 --> 00:06:49.880
还有带标题的内容

138
00:06:49.880 --> 00:06:53.263
当我滚动时，过渡非常顺畅

139
00:06:54.520 --> 00:06:56.970
这就是我今天想向你展示的内容

140
00:06:56.970 --> 00:06:59.630
在下节课中，我们将测试此用户界面

141
00:06:59.630 --> 00:07:02.030
并对Mac应用程序进行一些调整

142
00:07:02.030 --> 00:07:03.943
我们下节课见

143
00:07:05.134 --> 00:07:05.967
designcode.io

