- [孟] 嘿， 欢迎来到我的SwiftUI课程第七课。 今天我们要开始很多有关 匹配的几何的一系列视频。 一路上，我们将学习很多新技术 例如非对称过渡，选择状态， lazyGrid等。 首先，让我们开始切换到iOS。 我要选择iPhone 11进行预览， 所以点击继续。 不是这里的文字， 我们将把CourseItem放在括号中。 这就是我们先前创建的购物车设计。 现在我们要设定一个固定的框架 因此，点框的宽度为335，高度为250。 现在我们要做的就是点击此购物车 将显示全屏视图。 为了做到这一点， 我们将不得不将此CourseItem放入其中 首先是VStack，然后从VStack更改为ZStack。 这将使我们可以将许多推车彼此 三维地叠放 而不是垂直或水平堆叠。 现在我们要设置新的视图 CourseItem括号， 那么我们要确保这个新视图 默认情况下不显示。 因此，我们将不得不设置一个状态。 状态var show等于false。 然后，我们将为第二个课程项添加一个条件。 让我们先将其包装在VStack中， 并从VStack更改为if show。 每当您更新变量时， 您将不得不恢复预览。 当你这样做的时候 那么默认情况下不会显示全屏。 让我们添加一个点击手势 这样，当我们点击此购物车时， 它会显示全屏。 让我们为ZStack放置所有东西。 所以在ZStack点TapGesture之后， 这是我们要输入的内容 显示圆点切换括号。 这样可以确保我们每次点击购物车时， 它会在真与假之间切换。 让我们点击播放。 现在，当我们点击购物车时，它将切换到完整模式。 再来回。 当然，我们需要过渡， 所以我们可以设置点动画 默认情况下将设置为easeIn， 创建一个简单的淡入淡出动画。 如果您要自定义此过渡， 您将需要放置一个修饰符 在if show内部的第一个父容器上。 因此，让我们进行点过渡。 在这里，如果您输入点号 你有很多选择， 例如不透明度 。 但除此之外，您也可以使用幻灯片。 在这里，它将从左侧滑动， 然后向右移动。 现在，您在这里注意到的是 是当您进行过渡时， 然后突然，手推车滞后于第一个手推车， 那不是我们想要的。 通常，您可以使用zIndex解决此问题， 例如点zIndex。 插入一个值。 但是在这个测试版中 似乎有点问题， 特别是当您单击多次时。 不用担心，我们稍后将进一步探讨zIndex。 但是我找到了一个快速解决方案。 因此，我将删除zIndex，现在将其平滑。 是将if show放在VStack中。 因此，我们用Vstack，花括号， 我将为if语句剪切所有内容 并将其粘贴到VStack中。 如果这样做 那么您的新视图将永远处于最重要的位置。 现在，我们可以探索其他转换，例如缩放。 这就是它的样子。 然后是一个非常有用的 是使用边缘之一移动。 常见的过渡是从尾随 从右边开始， 因此，这是一个从右侧转到的屏幕 然后隐藏起来。 如果您不希望全屏显示受到 在安全区域附近的限制 然后您可以添加一个修饰符 点edgeIgnoringSafeArea点全部。 所以现在您将看到漂亮的全屏模式 从右边滑动。 我们可以改变它来自哪个方向。 底部也很常见，像这样， 几乎像一个模态但没有堆放推车 以及手势。 同时，与模式不同， 这些趋势的添加非常可定制。 我也可以从左起先导。 然后在动画方面， 我们可以更改为easyIn out。 所以这意味着它会很慢 在动画的开头和结尾。 还有更多选项，例如持续时间，延迟，重复， 在之前的课程中，我进行了很多探讨。 现在，让我们专注于弹簧，这真的很整洁， 因为它会反弹一点。 它给我们带来了您在iOS上看到的很多效果。 但我确实要指出 这是设置动画的好方法， 您也可以在操作期间进行操作。 所以在这里我要输入Animation花括号， 我要带上显示点切换。 让我们禁用点动画修改器 并专注于withAnimation。 现在我只想指出在预览中 它会立即出现 然后正确消失。 但是，运行应用程序时并非如此。 在iOS模拟器中， 您会看到动画是正确的。 所以我在这里两个都探索的原因 是给你选择， 也是因为这是正确的方法 当您使用匹配的几何效果时。 让我继续这个。 再说一次 您可以看到，当我第一次单击它时，它会立即出现， 但是当我多次单击时，它运行正常。 所以这只是要正确记住withAnimation。 如果要添加动画时间 在动画之后，将成为括号 点圆括号。 要注意的另一件事是，当您与withAnimation一起使用时， 时间可能会有所不同。 所以动画的速度 与使用点动画修改器相比。 因此， 您应该创建一个 屏幕之间的预设动画， 这将跨平台工作 包括Mac和iPad。 在下一次课程中 我们将使用匹配的几何效果。 我们将能够比较 在预设过渡之间 与过渡共享元素 使用匹配的几何效果的差异。 因此，我将在下次课程上见。