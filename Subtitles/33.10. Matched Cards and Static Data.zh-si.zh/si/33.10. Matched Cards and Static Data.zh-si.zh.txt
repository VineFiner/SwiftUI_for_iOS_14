- SWIFT UI 2 - 将卡与静态数据进行匹配 采用匹配几何效果为多种元素做标签

- [Meng] 你好，欢迎来到我的第10节SwiftUI课程 我们要开始处理静态数据 这意味着这些卡将变得更有趣 我们将会创建更多的卡 我们将为它们增添匹配几何效果 首先，我们将创建一个新的数据模型文件 通过Command + N 选择SwiftUI视图 我们将其命名为 Course 确保同时定位macOS和iOS 这是由于数据应该 在所有平台上都保持一致 我们在创建数据模型时，不需要 UI 元素 我们要输入struct Course 键入 identifiable ，加花括号 我们将从某个变量ID开始 var id 等于 UUID，加括号 这样将自动生成一个独特的ID 用于每一项元素 我们就可以用它来匹配几何效果 每个卡都将会有一个标题 var title，在String下面 接下来是var subtitle，同样在String下面 键入var image，在String字符串下面 最后是 var color，在Color之下 现在我们将需要一些样本数据 var courses 等于array 加方括号 让我们将其放在单独的一行中 在中间，我们输入Course，加括号 这可以检测到数据模型 我们可以选择一个没有ID的 因为ID是自动生成的 在此双击 你可以根据数据类型填充数据 字符串是引号，对于图像也是如此 至于颜色，我们将输入Color 括号 color lit 我们将使用colorLiteral，以便能够 很容易地改变颜色 在这里我要粘贴大量数据 因为要花很多时间 如果手动输入所有内容的话 所以我要粘贴整个内容 请随意使用本节中的文字内容 或使用你自己的数据 只要符合数据模型要求即可 你就可以看到每张卡都有一个标题 然后是字幕、图像名称以及颜色 让我们保存并返回CoursesView 我们这里有一张卡，然后是第二张卡 它是手动输入的 第二张卡可以被删除 对于第一张卡，我们通过 Command + 单击 然后单击重复 通常它会重复多次 它没有任何数据 相反，我们将使用数据模型 从sample data ，Course 这意味着该项适用于每张卡 现在让我们重新启用它 你可以看到我们遇到了一个问题 因为每张卡都要被匹配为 全屏显示，因为它们都具有相同的ID 因此，我们将替换这个ID 通过手动输入item.id 因为在我们的数据模型中，我们拥有独特的ID 现在的问题是我们如何将此ID 与全屏显示卡进行匹配？ 因为如果你单击它 它没有共享元素转换 现在，我们要手动去做 这意味着，我们不会采用它 因为它与item.id不匹配 我们将从阵列课程中选取一个 然后使用索引值 我们要选用第一张卡 输入方括号 零 结尾处为.id 这意味着全屏显示卡 将与第一张卡匹配 因此，只有第一张卡会转换 如果我要设置，假设是2，意味着第三张卡 那么此卡将进行转换 太酷了 现在暂时将其设置为零 然后将数据传递给每张卡 我们通过Command+单击CourseItem，跳到定义 所以我们要确保 在CourseItem部分的数据将是可定制的 在body之前 我们要设置 var course 在course类别下面 这是数据模型 我们将有一些默认值 课程部分使用索引值，加方括号 零 现在我们要将每个硬编码的值 替换为数据 采用course.image，用于图像 然后第一个文本将是course.title 第二个文本是 course.subtitle 背景色使用color.blue 将其替换为course.color 我们在此还可以 让cornerRadius 和阴影 有更多的变化 对于cornerRadius，我将使用光滑的角 你在iOS上看到了很多这样的应用 让我们选择整个.cornerRadius 然后将其替换为.clipShape 在当中，输入RoundedRectangle 括号 选择第一个选项 它会显示 radiusRadius 我们将它设置为22，然后是style.continuous 如果你重新启用它 你会看到其中的数据 已替换为你的数据 cornerRadius变成了平滑的角 最后，我们将自定义阴影 在半径之前 我们要先设置空间，然后设置颜色 冒号 course.color 对于该颜色，我们将使用.opacity 括号 将其设置为0.3 在括号后加一个逗号 对于半径，我将其设置为20 将X位置设为0 将Y位置设为10 太好了，所以现在我有了背景下拉阴影 即使用不透明度为30％的背景色 现在我可以回到CoursesView 然后我要设置CourseItem组件 在括号的中间输入 course:item 这是从ForEach 环路中得到的 使用我的array call courses 对于全屏显示 在表示 CourseItem 的括号内 输入course:courses，后者即课程组 加方括号 我现在仅针对第一张卡 现在，你可以看到数据正在被填充 包括标题，副标题，插图和颜色 最重要的是 转换也将起作用 如果你更改索引值 例如设为3，它指的是第四张卡 一、二、三、四 单击它，以实现完美的转换 对于此卡 现在让我们将其恢复为零 在下节课中 我想讲解如何建立选择状态 这意味着我们将要转换每张卡 使其变成全屏查看 无需手动选择 我们需要转换的卡 我希望你对本节内容感兴趣 我们下节课见 designcode.io