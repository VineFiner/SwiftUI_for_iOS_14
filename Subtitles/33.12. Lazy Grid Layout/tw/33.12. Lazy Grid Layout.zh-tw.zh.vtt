WEBVTT

1
00:00:08.287 --> 00:00:10.870
惰性網格佈局 使用具有自適應，固定和重復列和行的創造iOS 14網格佈局

2
00:00:12.570 --> 00:00:14.590
- [明] 您好，歡迎回到我的SwiftUI課程

3
00:00:14.590 --> 00:00:16.350
第12節

4
00:00:16.350 --> 00:00:19.380
今天我們將介紹今年的SwiftUI。

5
00:00:19.380 --> 00:00:20.970
最激動人心的更新之一

6
00:00:20.970 --> 00:00:24.470
SwiftUI的惰性網格非常全面。

7
00:00:24.470 --> 00:00:28.040
它將允許您將佈局調整為適合任何設備。

8
00:00:28.040 --> 00:00:29.470
我們有很多選擇，

9
00:00:29.470 --> 00:00:32.790
例如自適應，固定，重復的列和行，

10
00:00:32.790 --> 00:00:35.560
今天我們將探索所有這些東西。

11
00:00:35.560 --> 00:00:38.940
因此，最好的學習方法就是示範。

12
00:00:38.940 --> 00:00:43.290
您需要做的就是將V堆棧更改為惰性網格。

13
00:00:43.290 --> 00:00:47.230
因此，讓我選擇包括括號在內的V堆棧，

14
00:00:47.230 --> 00:00:52.010
然後我們將輸入惰性V網格括號。

15
00:00:52.010 --> 00:00:53.810
因此，由於我們使用的是V格，

16
00:00:53.810 --> 00:00:56.550
我們將需要指定列。

17
00:00:56.550 --> 00:01:01.550
列是網格項 括號的數組。

18
00:01:01.940 --> 00:01:04.220
現在，什麼都沒有改變。

19
00:01:04.220 --> 00:01:08.310
那是因為我們手動設置卡的大小

20
00:01:08.310 --> 00:01:12.310
到335和250的高度。

21
00:01:12.310 --> 00:01:14.133
讓我們刪除寬度。

22
00:01:15.010 --> 00:01:16.400
然後你會看到

23
00:01:16.400 --> 00:01:18.750
它只會占用

24
00:01:18.750 --> 00:01:20.110
可用的整個寬度

25
00:01:20.110 --> 00:01:23.300
因此，如果您想在行之間添加間距，

26
00:01:23.300 --> 00:01:26.170
我們將在列之後設置一個權重，

27
00:01:26.170 --> 00:01:28.270
在方括號之後

28
00:01:28.270 --> 00:01:33.050
逗號，間距，我們將其設置為16。

29
00:01:33.050 --> 00:01:36.270
那麼邊界的填充呢？

30
00:01:36.270 --> 00:01:39.510
好吧，我們可以設置惰性v網格

31
00:01:39.510 --> 00:01:42.140
所以雙擊花括號，

32
00:01:42.140 --> 00:01:44.820
在這里，您會在框架之前找到，

33
00:01:44.820 --> 00:01:48.320
我們將設置填充括號，

34
00:01:48.320 --> 00:01:50.220
我們可以放16。

35
00:01:50.220 --> 00:01:52.620
如果您想將其設置為兩列，

36
00:01:52.620 --> 00:01:56.210
在這里，因為我們在數組內部，

37
00:01:56.210 --> 00:01:57.830
我們可以有更多的網格項目，

38
00:01:57.830 --> 00:02:00.650
這樣我們就可以復制網格項括號，

39
00:02:00.650 --> 00:02:03.930
添加一個逗號，並添加另一個網格項。

40
00:02:03.930 --> 00:02:07.190
現在，我們有兩列，您可以添加更多，

41
00:02:07.190 --> 00:02:11.860
並且只要您的佈局可以容納就可以添加更多。

42
00:02:11.860 --> 00:02:13.650
但這不是最有效的方法。

43
00:02:13.650 --> 00:02:17.920
如果我們可以根據大小設法

44
00:02:17.920 --> 00:02:19.510
使其完全適應呢

45
00:02:19.510 --> 00:02:22.890
又不必重復網格項多次呢？

46
00:02:22.890 --> 00:02:26.110
所以 讓我們刪除最後三個網格項

47
00:02:26.110 --> 00:02:29.080
只專註於一個。

48
00:02:29.080 --> 00:02:31.590
讓我們進入括號內

49
00:02:31.590 --> 00:02:36.590
的括號內，

50
00:02:36.660 --> 00:02:40.060
最小列，

51
00:02:40.060 --> 00:02:42.490
我們將其設置為160。

52
00:02:42.490 --> 00:02:44.970
這樣做是要嘗試

53
00:02:44.970 --> 00:02:47.730
以適合盡可能多的列

54
00:02:47.730 --> 00:02:52.120
只要列的最小寬度為160。

55
00:02:52.120 --> 00:02:54.690
如果我們要設定200

56
00:02:54.690 --> 00:02:57.390
它只能容納一列，

57
00:02:57.390 --> 00:03:01.480
但是如果是100，則可以容納三個。

58
00:03:01.480 --> 00:03:03.340
這對於自適應佈局非常有用

59
00:03:03.340 --> 00:03:08.060
因為這取決於屏幕的尺寸，

60
00:03:08.060 --> 00:03:11.030
而且我們不需要手動設置多少列，

61
00:03:11.030 --> 00:03:13.330
它只是要根據我們的要求為我們提供的列數

62
00:03:13.330 --> 00:03:17.430
自動設置。

63
00:03:17.430 --> 00:03:20.430
讓我回到160。

64
00:03:20.430 --> 00:03:24.910
然後在第一個括號之後，逗號，

65
00:03:24.910 --> 00:03:29.100
我要設置間距為16

66
00:03:29.100 --> 00:03:32.990
因此，這是列之間的間隙值。

67
00:03:32.990 --> 00:03:37.140
接下來，如果我們將高度設置為200，

68
00:03:37.140 --> 00:03:39.650
讓我們看看動畫是否仍然有效。

69
00:03:39.650 --> 00:03:41.260
是的，確實如此。

70
00:03:41.260 --> 00:03:45.120
不管有多少列，

71
00:03:45.120 --> 00:03:46.610
一切正常 大小是多少。

72
00:03:46.610 --> 00:03:49.190
為什麼不在iPad上測試它呢？

73
00:03:49.190 --> 00:03:54.190
因此，讓我們轉到設備並在11英寸iPad Pro上進行選擇。

74
00:03:54.740 --> 00:03:56.753
讓我縮小一點，

75
00:03:57.960 --> 00:03:59.410
並最大化這一點。

76
00:03:59.410 --> 00:04:00.970
現在您可以在iPad上看到這一點，

77
00:04:00.970 --> 00:04:04.050
我們有一個更大的屏幕和四列，

78
00:04:04.050 --> 00:04:05.530
而且我們沒有任何改變

79
00:04:05.530 --> 00:04:07.450
因為有了適應性

80
00:04:07.450 --> 00:04:11.460
它將嘗試盡可能多地容納卡片

81
00:04:11.460 --> 00:04:14.850
最小寬度為160。

82
00:04:14.850 --> 00:04:16.780
好吧，讓我格式化一下代碼

83
00:04:16.780 --> 00:04:20.370
使其更具可讀性，因此我們可以探索更多選擇。

84
00:04:20.370 --> 00:04:23.080
所以我要把列放在自己的行上

85
00:04:23.080 --> 00:04:24.830
間距相同。

86
00:04:24.830 --> 00:04:28.450
在括號結束之前，

87
00:04:28.450 --> 00:04:30.840
我將其設置為新行。

88
00:04:30.840 --> 00:04:33.070
對於列，這是一個數組，

89
00:04:33.070 --> 00:04:37.060
因此我們實際上也可以將其放在單獨的行中。

90
00:04:37.060 --> 00:04:40.010
接下來，如果我們要固定列怎麼辦？

91
00:04:40.010 --> 00:04:44.530
我們只用固定替換自適應。

92
00:04:44.530 --> 00:04:48.660
這是我們可以設定的位置，例如250

93
00:04:48.660 --> 00:04:51.250
現在您可以看到只有一列

94
00:04:51.250 --> 00:04:52.870
因為它沒有適應性。

95
00:04:52.870 --> 00:04:54.330
如果您想擁有更多列，

96
00:04:54.330 --> 00:04:56.180
我們將添加一個逗號。

97
00:04:56.180 --> 00:04:59.833
我們將復制並粘貼更多列。

98
00:05:01.110 --> 00:05:03.930
並且對於每一列，您可以自定義數字。

99
00:05:03.930 --> 00:05:07.060
例如，第二個，第三個和第四個

100
00:05:07.060 --> 00:05:11.030
為160。

101
00:05:11.030 --> 00:05:12.960
所以你真的可以自定義

102
00:05:12.960 --> 00:05:16.210
每列的寬度分別。

103
00:05:16.210 --> 00:05:19.170
此外，您可以在特定列之間

104
00:05:19.170 --> 00:05:21.210
自定義間距

105
00:05:21.210 --> 00:05:24.290
例如，第一個，我想要10，

106
00:05:24.290 --> 00:05:26.380
第二個，我一個0。

107
00:05:26.380 --> 00:05:30.360
現在，您可以看到第一張卡為10

108
00:05:30.360 --> 00:05:32.670
第二張卡為零之後的間隙。

109
00:05:32.670 --> 00:05:35.940
所以，如果您想擺一張桌子，這很好。

110
00:05:35.940 --> 00:05:39.470
或非常自定義的佈局，也不必是卡片。

111
00:05:39.470 --> 00:05:41.300
接下來，我想告訴你另一種技巧

112
00:05:41.300 --> 00:05:43.430
我發現也很有用。

113
00:05:43.430 --> 00:05:45.580
所以對於列

114
00:05:45.580 --> 00:05:48.030
我要更換方括號

115
00:05:48.030 --> 00:05:53.030
以及內容的數組括號，請重復輸入。

116
00:05:54.590 --> 00:05:58.220
我們可以使用自動完成功能進行重復。

117
00:05:58.220 --> 00:06:01.150
我們將設置點初始化，括號，

118
00:06:01.150 --> 00:06:06.150
在括號內，圓點可彎曲，括號內。

119
00:06:06.510 --> 00:06:08.360
對於計數，這是列數。

120
00:06:08.360 --> 00:06:11.750
例如，我們可以將其設置為兩個或三個

121
00:06:11.750 --> 00:06:14.840
並會自動設置這些列。

122
00:06:14.840 --> 00:06:16.330
如果您想設置間距，

123
00:06:16.330 --> 00:06:21.330
在右括號，逗號，空格，16後移到右邊。

124
00:06:22.360 --> 00:06:27.133
將固定寬度設置為200也很有用，

125
00:06:28.310 --> 00:06:31.350
你會看到它會居中

126
00:06:31.350 --> 00:06:34.910
在列的靈活寬度內。

127
00:06:34.910 --> 00:06:36.700
好的，我最後要向您展示的

128
00:06:36.700 --> 00:06:39.670
是如何設置水平網格。

129
00:06:39.670 --> 00:06:43.077
因此，我們將設置惰性H網格而不是惰性V網格。

130
00:06:44.020 --> 00:06:46.993
我們將放置行而不是列。

131
00:06:48.330 --> 00:06:50.120
如果您要使用H網格，

132
00:06:50.120 --> 00:06:51.840
您可能應該設置滾動視圖

133
00:06:51.840 --> 00:06:54.583
是括號內的點是水平的。

134
00:06:56.440 --> 00:07:00.780
現在，H網格將嘗試調整卡的大小

135
00:07:00.780 --> 00:07:03.460
是基於高度而不是寬度。

136
00:07:03.460 --> 00:07:06.613
您可能不想設置固定的高度。

137
00:07:07.710 --> 00:07:11.540
我們還可以設置兩行而不是三行，

138
00:07:11.540 --> 00:07:14.260
您現在可以看到佈局

139
00:07:14.260 --> 00:07:16.210
是可水平滾動。

140
00:07:16.210 --> 00:07:17.880
另一件事要註意的是

141
00:07:17.880 --> 00:07:19.970
當您進入全屏模式時

142
00:07:19.970 --> 00:07:22.120
您將不得不處理一個安全區域。

143
00:07:23.080 --> 00:07:25.600
因此，您可能需要將滾動視圖設置

144
00:07:25.600 --> 00:07:29.980
為點邊緣忽略安全區域 標記為全部。

145
00:07:29.980 --> 00:07:33.590
這樣，動畫就可以正常工作了。

146
00:07:33.590 --> 00:07:36.710
好吧，讓我們放置網格項數組

147
00:07:36.710 --> 00:07:38.770
回到適應性。

148
00:07:38.770 --> 00:07:43.183
讓我刪除數組括號，改為方括號，

149
00:07:44.040 --> 00:07:48.670
網格項，圓括號自適應

150
00:07:48.670 --> 00:07:53.670
括號，最小值，我將其設置為160。

151
00:07:53.710 --> 00:07:55.150
然後在括號後，

152
00:07:55.150 --> 00:07:59.430
將行之間的間距設置為16。

153
00:07:59.430 --> 00:08:01.930
請註意，當您使用H網格時，

154
00:08:01.930 --> 00:08:04.180
是從上到下排序。

155
00:08:04.180 --> 00:08:08.380
當我們使用V網格時，是從左到右。

156
00:08:08.380 --> 00:08:12.030
好的，讓我們在iPhone上進行測試。

157
00:08:12.030 --> 00:08:14.110
我是iPhone 11 Pro。

158
00:08:14.110 --> 00:08:17.730
現在您可以看到佈局可以水平滾動

159
00:08:17.730 --> 00:08:20.340
並且動畫仍然有效。

160
00:08:20.340 --> 00:08:23.060
好吧，讓我將其放回V網格

161
00:08:23.060 --> 00:08:25.840
並將其更改回列，

162
00:08:25.840 --> 00:08:28.580
刪除水平滾動視圖。

163
00:08:28.580 --> 00:08:30.770
只需刪除括號，

164
00:08:30.770 --> 00:08:35.010
而且我們也不需要邊緣忽略安全區域

165
00:08:35.010 --> 00:08:39.800
現在，我將框架高度設為200。

166
00:08:39.800 --> 00:08:41.890
這就是關於惰性網格的問題。

167
00:08:41.890 --> 00:08:44.920
它是真正的自適應功能，而且功能強大。

168
00:08:44.920 --> 00:08:46.690
我想你會很以創建基於網格的佈局

169
00:08:46.690 --> 00:08:49.560
而感到有趣。

170
00:08:49.560 --> 00:08:50.970
所以在下一個章節中，

171
00:08:50.970 --> 00:08:53.900
我想解決這個Z索引問題。

172
00:08:53.900 --> 00:08:55.560
我也想告訴你

173
00:08:55.560 --> 00:08:59.200
如何創建基於容器的過渡

174
00:08:59.200 --> 00:09:02.950
並使用多個匹配的對稱效果ID。

175
00:09:02.950 --> 00:09:04.990
而且我認為它看起來會

176
00:09:04.990 --> 00:09:06.330
比我們現在擁有的更酷。

177
00:09:06.330 --> 00:09:08.193
因此，我將在下一章節上見。

