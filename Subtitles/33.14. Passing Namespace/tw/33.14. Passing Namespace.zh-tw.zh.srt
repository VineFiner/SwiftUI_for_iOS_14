1
00:00:12,610 --> 00:00:16,600
- [孟] 嗨，歡迎來到我的SwiftUI課程的第14節。

2
00:00:16,600 --> 00:00:18,910
今天，我們將學習如何在視圖之間傳遞名稱空間

3
00:00:18,910 --> 00:00:22,500
以便我們可以全屏顯示

4
00:00:22,500 --> 00:00:26,570
像這樣與CoursesView文件分開。

5
00:00:26,570 --> 00:00:29,240
將會更輕松地管理數據，

6
00:00:29,240 --> 00:00:32,560
我們可以獨立地重用此視圖。

7
00:00:32,560 --> 00:00:35,120
因此，首先，我們將創建一個新文件，

8
00:00:35,120 --> 00:00:38,890
所以按Command + N，選擇SwiftUI視圖。

9
00:00:38,890 --> 00:00:40,907
我們將其命名為CourseDetail，

10
00:00:42,130 --> 00:00:45,083
並且我們將針對iOS和macOS。

11
00:00:46,880 --> 00:00:49,130
現在，我們要做的第一件事就是回

12
00:00:49,130 --> 00:00:51,770
到CoursesView並向下滾動一點

13
00:00:51,770 --> 00:00:54,860
查找可以作為一個孤立的視圖

14
00:00:54,860 --> 00:00:56,800
重復使用的部分。

15
00:00:56,800 --> 00:01:00,080
因此，在這里，我們可以看到全屏卡片，

16
00:01:00,080 --> 00:01:01,800
然後我們有了內容，

17
00:01:01,800 --> 00:01:03,320
我們有滾動視圖，

18
00:01:03,320 --> 00:01:07,030
然後我們有帶有背景的容器。

19
00:01:07,030 --> 00:01:10,640
因此，如果我們要孤立使用此視圖，

20
00:01:10,640 --> 00:01:12,910
我們真的不需要關閉按鈕，

21
00:01:12,910 --> 00:01:15,490
而且，您可以看到它已附加

22
00:01:15,490 --> 00:01:18,530
到TapGesture以及某些

23
00:01:18,530 --> 00:01:22,740
特定於此過渡的狀態與動畫

24
00:01:22,740 --> 00:01:25,290
但就佈局本身而言，

25
00:01:25,290 --> 00:01:27,710
從容器和滾動視圖開始，

26
00:01:27,710 --> 00:01:29,610
我們絕對可以重用它。

27
00:01:29,610 --> 00:01:32,500
因此，讓我們剪切Command + X，

28
00:01:32,500 --> 00:01:36,760
並將其替換為CourseDetail 。

29
00:01:36,760 --> 00:01:39,050
那我要去CourseDetail

30
00:01:39,050 --> 00:01:42,880
然後用這段代碼替換文本。

31
00:01:42,880 --> 00:01:45,570
現在，我們肯定會遇到很多問題

32
00:01:45,570 --> 00:01:47,940
因為我們缺少變量。

33
00:01:47,940 --> 00:01:51,630
因此，例如，selectedItem在這里不存在，

34
00:01:51,630 --> 00:01:53,870
命名空間相同。

35
00:01:53,870 --> 00:01:57,870
現在，我們需要做的是在CoursesView中

36
00:01:57,870 --> 00:02:02,150
將數據傳遞到名為CourseDetail的組件

37
00:02:02,150 --> 00:02:06,060
在課程以及名稱空間方面

38
00:02:06,060 --> 00:02:07,800
回到CourseDetail，

39
00:02:07,800 --> 00:02:10,870
這是我們要設置這些變量的地方，

40
00:02:10,870 --> 00:02:15,273
從Course類型的var course開始，

41
00:02:16,300 --> 00:02:18,020
然後我們要設置默認值，

42
00:02:18,020 --> 00:02:21,080
如此輕松地調用課程數組，

43
00:02:21,080 --> 00:02:24,140
然後我們將第一項設置為0。

44
00:02:24,140 --> 00:02:26,550
接下來，我們將需要名稱空間

45
00:02:26,550 --> 00:02:30,100
為了使我們的matchedGeometryEffect仍然起作用。

46
00:02:30,100 --> 00:02:31,840
因此，在Course結束後，

47
00:02:31,840 --> 00:02:36,840
我們將聲明類型為Namespace.ID的var名稱空間。

48
00:02:39,430 --> 00:02:41,040
現在，有了這兩個變量，

49
00:02:41,040 --> 00:02:43,510
我們可以將它們設置在正確的位置。

50
00:02:43,510 --> 00:02:47,794
因此，例如，課程必將成為課程，

51
00:02:47,794 --> 00:02:52,650
matchGeometryEffect ID將為course.id，

52
00:02:52,650 --> 00:02:56,330
與第二個matchedGeometryEffect相同，

53
00:02:56,330 --> 00:03:00,210
我們將按課程

54
00:03:00,210 --> 00:03:02,630
沒有感嘆號替換所選項目。

55
00:03:02,630 --> 00:03:04,630
所以這似乎很好用，

56
00:03:04,630 --> 00:03:07,530
我們只是在這里缺少一些預覽值

57
00:03:07,530 --> 00:03:10,410
這樣我們才能使其在右側運行。

58
00:03:10,410 --> 00:03:13,970
現在，由於該課程具有默認設置，

59
00:03:13,970 --> 00:03:16,810
您不必為預覽指定它，

60
00:03:16,810 --> 00:03:20,320
但在命名空間中，我們將需要一個默認值。

61
00:03:20,320 --> 00:03:24,520
所以我們可以在這里為

62
00:03:24,520 --> 00:03:26,955
命名空間設置一個靜態變量，所以讓我們輸入

63
00:03:26,955 --> 00:03:31,955
@Namespace靜態var命名空間。

64
00:03:34,660 --> 00:03:36,450
然後，在括號內

65
00:03:36,450 --> 00:03:39,180
預覽中的CourseDetail的

66
00:03:39,180 --> 00:03:42,643
我們將放置命名空間：命名空間。

67
00:03:45,140 --> 00:03:46,150
太棒了

68
00:03:46,150 --> 00:03:48,940
現在，我們只需要

69
00:03:48,940 --> 00:03:51,590
從CoursesView傳遞名稱空間。

70
00:03:51,590 --> 00:03:53,870
所以在這里，對於CourseDetail，

71
00:03:53,870 --> 00:03:58,870
我們將傳遞命名空間：然後傳遞命名空間。

72
00:04:00,490 --> 00:04:04,160
對於CourseDetail，我們還應該通過課程，

73
00:04:04,160 --> 00:04:08,027
所以在命名空間之前，當然：

74
00:04:08,930 --> 00:04:11,440
然後我們將傳遞選定的項目，

75
00:04:11,440 --> 00:04:16,440
所以selectedItem！並且不要忘記逗號。

76
00:04:17,440 --> 00:04:20,003
現在，您可以繼續

77
00:04:20,980 --> 00:04:24,273
一切都應該像以前一樣工作。

78
00:04:27,270 --> 00:04:29,930
回到CourseDetail，

79
00:04:29,930 --> 00:04:32,240
預覽也可以。

80
00:04:32,240 --> 00:04:34,000
如果你試用這個，你會看到

81
00:04:34,000 --> 00:04:36,370
滾動有效，

82
00:04:36,370 --> 00:04:39,900
這就像我們有一個孤立的視圖。

83
00:04:39,900 --> 00:04:41,500
現在，當我們在這里時，

84
00:04:41,500 --> 00:04:45,170
我們應該為應用程式導入其餘數據。

85
00:04:45,170 --> 00:04:47,480
讓我們轉到Project文件。

86
00:04:47,480 --> 00:04:50,350
我要打開模型。

87
00:04:50,350 --> 00:04:54,370
到目前為止，我們已經創建了Course.swift。

88
00:04:54,370 --> 00:04:56,700
現在，讓我們帶走其餘數據

89
00:04:56,700 --> 00:04:59,730
這樣我們就不必手動創建它們，

90
00:04:59,730 --> 00:05:03,210
這是非常重復的，所以我為您創建了它們。

91
00:05:03,210 --> 00:05:06,410
我要拖放這些文件

92
00:05:06,410 --> 00:05:08,393
到模型文件夾。

93
00:05:09,870 --> 00:05:11,710
確保選擇了這些，

94
00:05:11,710 --> 00:05:15,180
因此，如果需要，復制項目，創建組，

95
00:05:15,180 --> 00:05:20,180
然後是iOS和macOS目標，然後完成。

96
00:05:20,210 --> 00:05:21,460
當你這樣做的時候，你會看到

97
00:05:21,460 --> 00:05:24,260
我們有一堆新的數據模型文件，

98
00:05:24,260 --> 00:05:27,200
包括我們之前創建的那個。

99
00:05:27,200 --> 00:05:28,650
如果您看內容

100
00:05:28,650 --> 00:05:33,650
這些是帶有大量示例數據的簡單數據模型，

101
00:05:33,990 --> 00:05:38,270
下載，直播，教程等也是如此。

102
00:05:38,270 --> 00:05:39,830
所以現在我可以關閉這個

103
00:05:39,830 --> 00:05:42,520
然後返回CourseDetail。

104
00:05:42,520 --> 00:05:45,080
在CourseDetail中，我將繼續，

105
00:05:45,080 --> 00:05:47,570
然後在ForEach循環中，

106
00:05:47,570 --> 00:05:48,880
我們將替換

107
00:05:48,880 --> 00:05:53,673
手動輸入了20個課程的課程，

108
00:05:55,280 --> 00:05:58,460
然後我要自定義組件

109
00:05:58,460 --> 00:06:02,450
通過命令單擊它，跳到"定義"。

110
00:06:02,450 --> 00:06:06,570
因此，我們要做的是替換這些圖像，

111
00:06:06,570 --> 00:06:09,560
文字和顏色。

112
00:06:09,560 --> 00:06:14,440
因此，首先，我們將必須聲明var item

113
00:06:14,440 --> 00:06:18,800
類型為CourseSection，我們將使用默認值

114
00:06:18,800 --> 00:06:23,800
使用courseSections，方括號，0。

115
00:06:24,800 --> 00:06:28,310
因此，如果您查看CourseSection的數據模型，

116
00:06:28,310 --> 00:06:32,150
您將看到這些是我們擁有的值，

117
00:06:32,150 --> 00:06:35,760
標題，副標題，徽標和顏色，

118
00:06:35,760 --> 00:06:38,070
這是樣本數據。

119
00:06:38,070 --> 00:06:40,430
所以我們點擊這個後退箭頭

120
00:06:40,430 --> 00:06:42,160
轉到上一個文件。

121
00:06:42,160 --> 00:06:44,530
除此之外，您可以隨時打開該文件夾

122
00:06:44,530 --> 00:06:46,027
然後轉到CourseRow，

123
00:06:47,520 --> 00:06:49,700
然後我們將繼續。

124
00:06:49,700 --> 00:06:52,260
對於圖片，我們將使用徽標，

125
00:06:52,260 --> 00:06:55,140
在這里，我們不會使用SF符號，

126
00:06:55,140 --> 00:06:58,110
這意味著我們將刪除systemName。

127
00:06:58,110 --> 00:07:02,390
我們只是要放置item.logo。

128
00:07:02,390 --> 00:07:05,830
因此，現在，我們肯定存在渲染模式問題。

129
00:07:05,830 --> 00:07:09,060
目前，它使用的是.template臨時文件。

130
00:07:09,060 --> 00:07:12,963
我們將使用原始顏色。

131
00:07:13,950 --> 00:07:15,660
對於背景視圖，

132
00:07:15,660 --> 00:07:19,193
我們將用item.color替換它。

133
00:07:20,150 --> 00:07:23,803
圓很棒，我們可以刪除前景色

134
00:07:23,803 --> 00:07:25,690
因為我們不再需要它了。

135
00:07:25,690 --> 00:07:28,130
接下來，讓我們替換文本。

136
00:07:28,130 --> 00:07:30,330
所以，對於第一個文本，

137
00:07:30,330 --> 00:07:33,540
我們將使用item.title。

138
00:07:33,540 --> 00:07:38,330
對於第二個文本，讓我們使用item.subtitle。

139
00:07:38,330 --> 00:07:42,560
太好了，現在，我們可以將這些數據放入CourseDetail中。

140
00:07:42,560 --> 00:07:45,690
所以，現在，我們有課程部分，

141
00:07:45,690 --> 00:07:47,530
我們有正確的數字，

142
00:07:47,530 --> 00:07:51,980
但是我們應該將數據傳遞給我的組件CourseRow。

143
00:07:51,980 --> 00:07:56,980
因此，item：item，這樣，我們有了數據。

144
00:07:59,390 --> 00:08:02,830
讓我們在這些行之間添加一個分隔符。

145
00:08:02,830 --> 00:08:05,660
讓我們鍵入Divider，括號。

146
00:08:05,660 --> 00:08:08,330
太好了，我們現在有一個非常酷的UI。

147
00:08:08,330 --> 00:08:10,810
我們可以回到課程視圖，

148
00:08:10,810 --> 00:08:13,840
然後測試動畫

149
00:08:13,840 --> 00:08:16,190
它仍然可以完美地工作。

150
00:08:16,190 --> 00:08:18,710
所以這非常靈活

151
00:08:18,710 --> 00:08:21,740
我們稍後可以用實際數據替換。

152
00:08:21,740 --> 00:08:23,100
所以我希望你玩得開心。

153
00:08:23,100 --> 00:08:24,820
在下一次課程中，我想向您展示

154
00:08:24,820 --> 00:08:26,910
如何創建背景模糊，

155
00:08:26,910 --> 00:08:28,540
我們將調整用戶界面

156
00:08:28,540 --> 00:08:33,110
適合iPad和macOS，以及導航方式，

157
00:08:33,110 --> 00:08:35,103
下次見。

