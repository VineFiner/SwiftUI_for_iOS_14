1
00:00:06,283 --> 00:00:11,209
SWIFTUI 2 macOS的視覺效果模糊

2
00:00:12,610 --> 00:00:16,370
- [孟] 嗨 歡迎來到Swift UI課程 第15節

3
00:00:16,370 --> 00:00:19,800
到目前為止 我們已經在兩個屏幕之間創造了

4
00:00:19,800 --> 00:00:21,680
一個非常酷的過渡

5
00:00:21,680 --> 00:00:24,460
所有這些在預覽中都很有用

6
00:00:24,460 --> 00:00:27,570
但當你在iPhone11上運行該應用程式時

7
00:00:27,570 --> 00:00:32,570
和iPad pro 11英寸一樣 你會註意到默認情況下

8
00:00:32,690 --> 00:00:37,690
有一個沒有標題的導航欄

9
00:00:37,780 --> 00:00:40,800
所以才會有這麼大的差距

10
00:00:40,800 --> 00:00:42,670
最重要的是 作為一個規則

11
00:00:42,670 --> 00:00:46,950
我們不應該有超過712的內容

12
00:00:46,950 --> 00:00:50,650
這是蘋果公司為他們的模式設定的標準

13
00:00:50,650 --> 00:00:52,040
所以我們在這里能做的

14
00:00:52,040 --> 00:00:56,910
將容器的最大寬度設置為712

15
00:00:56,910 --> 00:01:00,020
然後在後面添加背景模糊

16
00:01:00,020 --> 00:01:03,200
要使iOS和Mac iOS的背景模糊工作

17
00:01:03,200 --> 00:01:04,880
我們需要兩份文件

18
00:01:04,880 --> 00:01:07,420
我們去看項目文件

19
00:01:07,420 --> 00:01:11,360
和macOS文件夾中

20
00:01:11,360 --> 00:01:14,570
我們有這些文件要導入

21
00:01:14,570 --> 00:01:16,900
對於iOS 我們將拖放

22
00:01:16,900 --> 00:01:19,553
VisualEffectBlur到IOS

23
00:01:20,720 --> 00:01:22,953
這里 我們要檢查iOS

24
00:01:23,990 --> 00:01:27,690
確保在需要時復制項目並創建組

25
00:01:27,690 --> 00:01:29,080
然後完成

26
00:01:29,080 --> 00:01:31,690
讓我們對macOS做同樣的操作

27
00:01:31,690 --> 00:01:34,560
所以拖放VisualEffectBlur.Swift

28
00:01:34,560 --> 00:01:36,053
然後把它丟給Macos

29
00:01:37,810 --> 00:01:41,560
這次我們要檢查目標是否有macos

30
00:01:41,560 --> 00:01:44,463
同樣 如果需要 復制項目並創建組

31
00:01:45,380 --> 00:01:48,190
現在 目標很重要

32
00:01:48,190 --> 00:01:50,520
如果你去找檢查員

33
00:01:50,520 --> 00:01:53,340
您將在第一個選項卡中看到這里

34
00:01:53,340 --> 00:01:56,620
該文件可用於哪個目標

35
00:01:56,620 --> 00:01:59,900
並註意到文件的名稱相同

36
00:01:59,900 --> 00:02:04,900
但是文件的內容對於Mac和iOS是不同的

37
00:02:04,970 --> 00:02:07,670
因此 當您為每個平臺構建應用程式時

38
00:02:07,670 --> 00:02:10,690
項目將確切地知道要使用哪個文件

39
00:02:10,690 --> 00:02:12,900
取決於目標

40
00:02:12,900 --> 00:02:14,990
現在 我想提一下這個代碼

41
00:02:14,990 --> 00:02:18,000
因為VisualEffectBlur是由蘋果公司製作的

42
00:02:18,000 --> 00:02:20,570
您可以在Fruta應用程式中找到代碼

43
00:02:20,570 --> 00:02:21,780
他們所分享的

44
00:02:21,780 --> 00:02:26,230
而且他們的許可證允許任何人使用他們的代碼

45
00:02:26,230 --> 00:02:27,750
回到Xcode

46
00:02:27,750 --> 00:02:31,000
我們將預覽11英寸的iPad

47
00:02:31,000 --> 00:02:34,310
這里可以看到容器的寬度

48
00:02:34,310 --> 00:02:38,040
比712多 所以我們要限制它

49
00:02:38,040 --> 00:02:41,260
在CoursesView.Swift中 我們要向下滾動

50
00:02:41,260 --> 00:02:43,140
我們會找到z堆棧

51
00:02:43,140 --> 00:02:44,650
對於全屏模式

52
00:02:44,650 --> 00:02:46,600
在zIndex之後

53
00:02:46,600 --> 00:02:50,973
我們要把frame 括號 maxwidth:712

54
00:02:52,840 --> 00:02:55,780
如果你這麼做 你會看到你容器

55
00:02:55,780 --> 00:02:58,200
現在被限制為這個寬度

56
00:02:58,200 --> 00:03:01,100
但我們想做的是添加另一個背景

57
00:03:01,100 --> 00:03:04,230
這次使用VisualEffectBlur

58
00:03:04,230 --> 00:03:06,520
首先 我們要創建另一個框架

59
00:03:06,520 --> 00:03:10,973
所以frame maxwidth:infinity

60
00:03:11,920 --> 00:03:14,850
這將使用所有可用空間

61
00:03:14,850 --> 00:03:17,910
然後我們會添加一個背景修飾符

62
00:03:17,910 --> 00:03:19,383
那麼背景

63
00:03:20,220 --> 00:03:23,283
現在我們可以使用VisualEffectBlur

64
00:03:23,283 --> 00:03:27,130
VisualEffectBlur 括號

65
00:03:27,130 --> 00:03:27,990
就這樣了

66
00:03:27,990 --> 00:03:32,090
現在您可以測試 您可以看到我們剛剛添加了

67
00:03:32,090 --> 00:03:34,100
背景模糊

68
00:03:34,100 --> 00:03:35,800
如果要填滿整個屏幕

69
00:03:35,800 --> 00:03:37,360
包括安全區

70
00:03:37,360 --> 00:03:40,237
我們可以在括號後面加上

71
00:03:40,237 --> 00:03:44,860
EdgesigningSafearea 全部都加上

72
00:03:44,860 --> 00:03:47,363
所以這也會填滿安全區域

73
00:03:48,730 --> 00:03:51,650
現在 請註意 您可以自定義樣式

74
00:03:51,650 --> 00:03:56,650
但這種定製只適用於iOS系統

75
00:03:56,730 --> 00:03:59,210
所以如果您想自定義VisualEffectBlur

76
00:03:59,210 --> 00:04:01,630
除了導航欄之外

77
00:04:01,630 --> 00:04:04,260
我們需要設置平臺條件

78
00:04:04,260 --> 00:04:08,130
我們還需要在這里整理我們的文件

79
00:04:08,130 --> 00:04:10,660
所以讓我們設置迷你組件

80
00:04:10,660 --> 00:04:15,210
在這里 就在最後一個花括號之前

81
00:04:15,210 --> 00:04:20,210
我將添加一些視圖類型的var fullContent

82
00:04:23,050 --> 00:04:27,990
然後我會從if selectedItem中剪掉所有的東西

83
00:04:27,990 --> 00:04:29,430
及其內容

84
00:04:29,430 --> 00:04:31,290
雙擊這個

85
00:04:31,290 --> 00:04:35,010
你會發現這就是密碼

86
00:04:35,010 --> 00:04:37,783
我要把它粘貼到完整的內容里

87
00:04:38,690 --> 00:04:41,773
對於fullContent 我們需要設置ViewBuilder

88
00:04:43,130 --> 00:04:45,540
接下來 讓我們對內容進行同樣的操作

89
00:04:45,540 --> 00:04:48,320
所以就在完整內容之前

90
00:04:48,320 --> 00:04:53,320
讓我們設置一些視圖類型的var內容 花括號

91
00:04:54,340 --> 00:04:56,710
然後我再往上滾動一點

92
00:04:56,710 --> 00:05:00,390
要查找ScrollView和內容

93
00:05:00,390 --> 00:05:02,393
加上zIndex修飾符

94
00:05:03,770 --> 00:05:05,763
選擇所有這些 切

95
00:05:07,170 --> 00:05:08,973
粘貼到內容

96
00:05:10,010 --> 00:05:12,780
然後我們可以從z堆棧的主體中

97
00:05:12,780 --> 00:05:14,230
引用它們

98
00:05:14,230 --> 00:05:18,970
所以內容 然後在內容之後 就是fullcontent

99
00:05:18,970 --> 00:05:22,430
現在我們可以向下滾動找到背景修改器

100
00:05:22,430 --> 00:05:26,560
有視覺效果模糊的 剪掉它

101
00:05:26,560 --> 00:05:30,313
我們會在完整的內容之後貼上它

102
00:05:31,210 --> 00:05:33,420
所以現在讓我們設置一個平臺條件

103
00:05:33,420 --> 00:05:37,383
就在內容之前 磅如果os iOS

104
00:05:38,980 --> 00:05:43,670
然後在fullContent pound else之後

105
00:05:43,670 --> 00:05:45,367
在那之後 恩迪夫

106
00:05:46,690 --> 00:05:50,290
現在我們可以復制內容和完整內容

107
00:05:50,290 --> 00:05:52,520
包括背景修飾符

108
00:05:52,520 --> 00:05:57,520
而這就是我們可以為iOS定製模糊樣式的地方

109
00:05:57,520 --> 00:06:01,470
所以對於模糊樣式 你可以設置模糊樣式

110
00:06:01,470 --> 00:06:05,570
對於價值 我們有很多選擇

111
00:06:05,570 --> 00:06:07,960
但自動完成可能無法正常工作

112
00:06:07,960 --> 00:06:09,080
在這一點上

113
00:06:09,080 --> 00:06:12,313
所以我們能做的就是命令+單擊VisualEffectBlur

114
00:06:13,430 --> 00:06:17,930
跳轉到定義 這將打開Swift文件

115
00:06:17,930 --> 00:06:20,900
你會發現我們有一個默認的樣式

116
00:06:20,900 --> 00:06:23,090
那是系統材料

117
00:06:23,090 --> 00:06:25,380
這是標準的模糊強度

118
00:06:25,380 --> 00:06:28,270
而且它還能自動適應暗模式

119
00:06:28,270 --> 00:06:30,650
您還可以選中其他選項

120
00:06:30,650 --> 00:06:35,630
通過選擇systemMaterial 刪除它 再次按點

121
00:06:35,630 --> 00:06:38,170
在這里你可以找到很多選擇

122
00:06:38,170 --> 00:06:42,230
所以我們有黑暗 額外的光 光 突出等等

123
00:06:42,230 --> 00:06:44,490
現在 如果你使用系統的

124
00:06:44,490 --> 00:06:47,970
他們會適應黑暗模式和光明模式

125
00:06:47,970 --> 00:06:51,980
給你一個概念 我們有系統 材料

126
00:06:51,980 --> 00:06:55,320
厚的 薄的 超薄的

127
00:06:55,320 --> 00:06:59,260
越厚 就越容易閱讀

128
00:06:59,260 --> 00:07:01,190
並查看內容

129
00:07:01,190 --> 00:07:02,470
越薄

130
00:07:02,470 --> 00:07:04,690
你就越能看到背景

131
00:07:04,690 --> 00:07:06,340
現在我們什麼都不會改變

132
00:07:06,340 --> 00:07:08,290
所以我要把系統材料放回去

133
00:07:08,290 --> 00:07:10,870
但我只是想告訴你選擇

134
00:07:10,870 --> 00:07:14,570
因為這里的自動完成可能無法正常工作

135
00:07:14,570 --> 00:07:16,370
但除此之外 如果有效的話

136
00:07:16,370 --> 00:07:20,140
你可以選擇這些選項中的任何一個

137
00:07:20,140 --> 00:07:23,980
比如 讓我們試試超薄材質

138
00:07:23,980 --> 00:07:26,670
這就是背景

139
00:07:26,670 --> 00:07:28,520
更明顯

140
00:07:28,520 --> 00:07:30,453
如果將其設置為systemThickMaterial

141
00:07:34,210 --> 00:07:37,723
你會看到背景幾乎看不見

142
00:07:40,200 --> 00:07:43,770
模糊樣式只在iOS上可用

143
00:07:43,770 --> 00:07:46,260
這就是為什麼我們要一直

144
00:07:46,260 --> 00:07:48,203
用括號表示Mac

145
00:07:49,090 --> 00:07:51,653
讓我回到SystemMaterial

146
00:07:53,010 --> 00:07:55,600
現在我們要處理導航欄

147
00:07:55,600 --> 00:07:57,870
首先 你可以設置一個標題

148
00:07:57,870 --> 00:08:02,870
在z堆棧之後 讓我們設置導航欄標題

149
00:08:03,120 --> 00:08:04,920
設置為課程

150
00:08:04,920 --> 00:08:07,550
所以如果你運行這個應用程式 它會是這樣的

151
00:08:07,550 --> 00:08:11,160
問題是導航欄會在上面

152
00:08:11,160 --> 00:08:13,020
就像如果我們有一個標簽欄

153
00:08:13,020 --> 00:08:15,530
它也會在內容的頂部

154
00:08:15,530 --> 00:08:17,850
這可能並不理想

155
00:08:17,850 --> 00:08:21,200
我們能做的就是隱藏導航欄

156
00:08:21,200 --> 00:08:23,540
但這只適用於iOS

157
00:08:23,540 --> 00:08:26,933
所以我們必須為iOS的內容做這件事

158
00:08:27,778 --> 00:08:32,778
NavigationBarHidden 將其設置為true

159
00:08:33,350 --> 00:08:36,400
通過這樣做 我們解決了間距的問題

160
00:08:36,400 --> 00:08:37,570
對於"關閉"按鈕

161
00:08:37,570 --> 00:08:41,423
還包括位於頂部的導航欄的標題

162
00:08:42,450 --> 00:08:44,683
現在讓我們在Mac上運行這個

163
00:08:45,800 --> 00:08:48,500
在Mac上 你可以看到一切都運行得很好

164
00:08:48,500 --> 00:08:50,210
包括背景模糊

165
00:08:50,210 --> 00:08:53,840
容器的最大寬度 甚至動畫

166
00:08:53,840 --> 00:08:56,490
但我們確實對安全區域有問題

167
00:08:56,490 --> 00:08:57,810
我們可以禁用它

168
00:08:57,810 --> 00:09:00,560
要做到這一點 我們要進入課程細節

169
00:09:00,560 --> 00:09:04,370
這就是我們要用同樣的方式組織的地方

170
00:09:04,370 --> 00:09:09,370
所以讓我們創建一些視圖類型的var內容 花括號

171
00:09:11,840 --> 00:09:13,830
剪切並粘貼VStack

172
00:09:13,830 --> 00:09:18,830
包括除了安全區修改器以外的所有內容

173
00:09:19,010 --> 00:09:21,600
所以讓我把它粘貼到內容

174
00:09:21,600 --> 00:09:24,300
從主體上引用這個

175
00:09:24,300 --> 00:09:26,650
之後 我們可以設置平臺條件

176
00:09:26,650 --> 00:09:31,650
使用pound if os iOS pound else pound endiff

177
00:09:35,420 --> 00:09:38,960
對於Mac 我們只設置內容

178
00:09:38,960 --> 00:09:41,330
這就解決了導航欄的問題

179
00:09:41,330 --> 00:09:43,770
隱藏卡片的一部分

180
00:09:43,770 --> 00:09:47,600
但是現在我們有一些間距問題與關閉按鈕

181
00:09:47,600 --> 00:09:51,150
而且 我們要確保圓角

182
00:09:51,150 --> 00:09:53,690
對Mac來說也很有意義

183
00:09:53,690 --> 00:09:57,350
所以在Mac上 拐角半徑需要適合

184
00:09:57,350 --> 00:09:59,400
視窗的角半徑

185
00:09:59,400 --> 00:10:02,750
所以這需要大約10 而不是22

186
00:10:02,750 --> 00:10:05,030
首先 我們來固定拐角半徑

187
00:10:05,030 --> 00:10:06,690
讓我們轉到課程視圖

188
00:10:06,690 --> 00:10:08,793
我們會找到關閉按鈕

189
00:10:09,720 --> 00:10:11,930
這里有完整的內容

190
00:10:11,930 --> 00:10:13,300
至於填充物

191
00:10:13,300 --> 00:10:15,580
而不是僅僅設置尾隨

192
00:10:15,580 --> 00:10:17,810
我們要去掉拖尾

193
00:10:17,810 --> 00:10:20,970
在括號裡加上16

194
00:10:20,970 --> 00:10:22,460
關於拐角半徑

195
00:10:22,460 --> 00:10:25,773
我們要去文件夾呼叫項目 課程項目

196
00:10:26,860 --> 00:10:29,210
然後在var課程之後

197
00:10:29,210 --> 00:10:34,123
如果操作系統 操作系統

198
00:10:35,040 --> 00:10:40,040
CGFloat類型的var角半徑等於22

199
00:10:43,130 --> 00:10:47,373
在那之後 龐德·埃爾斯 龐德·恩迪夫

200
00:10:49,210 --> 00:10:52,570
讓我們復制var角半徑

201
00:10:52,570 --> 00:10:55,790
至於Mac 我們要把它調到10

202
00:10:55,790 --> 00:10:57,300
然後使用該值

203
00:10:57,300 --> 00:11:01,850
我們要把22換成夾子形狀

204
00:11:01,850 --> 00:11:04,800
讓我們把拐角半徑

205
00:11:04,800 --> 00:11:06,100
那好多了

206
00:11:06,100 --> 00:11:08,760
現在我們要做的是處理容器的

207
00:11:08,760 --> 00:11:10,440
拐角半徑

208
00:11:10,440 --> 00:11:13,370
讓我們為平臺條件復制這段代碼

209
00:11:13,370 --> 00:11:15,260
包括拐角半徑

210
00:11:15,260 --> 00:11:17,680
讓我們進入課程細節

211
00:11:17,680 --> 00:11:21,210
在namespace後面粘貼

212
00:11:21,210 --> 00:11:25,350
這次是Mac 我要把它設為零

213
00:11:25,350 --> 00:11:27,790
然後使用拐角半徑值

214
00:11:27,790 --> 00:11:30,703
我要替換剪貼板的角半徑

215
00:11:31,610 --> 00:11:32,843
拐角半徑

216
00:11:34,400 --> 00:11:35,690
那好多了

217
00:11:35,690 --> 00:11:39,140
我們也可以移除拐角半徑

218
00:11:39,140 --> 00:11:40,920
當它處於全屏狀態時

219
00:11:40,920 --> 00:11:44,610
所以在"課程細節"中 對於"課程項目"

220
00:11:44,610 --> 00:11:49,610
我們要加逗號 角半徑 把它設為零

221
00:11:50,060 --> 00:11:52,540
所以現在 在所有平臺上進行測試

222
00:11:52,540 --> 00:11:55,350
你可以看到它看起來真的很不錯

223
00:11:55,350 --> 00:11:58,810
iPad和iPhone也是如此

224
00:11:58,810 --> 00:11:59,680
在下一節課上

225
00:11:59,680 --> 00:12:01,560
我想告訴你如何使用"尺寸"類

226
00:12:01,560 --> 00:12:05,390
要檢測像iPad這樣的大屏幕

227
00:12:05,390 --> 00:12:07,760
和像iPhone那樣更小的屏幕

228
00:12:07,760 --> 00:12:10,750
以便我們可以使用選項卡欄來代替

229
00:12:10,750 --> 00:12:12,673
我們下期見

