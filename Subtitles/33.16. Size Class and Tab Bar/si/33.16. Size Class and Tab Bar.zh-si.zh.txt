- 尺寸类别与标签栏 iPhone的标签栏设置与iPad的侧边栏设置

- [讲师] 大家好 欢迎收看我的 SwiftUI课程第16课 今天我们将学习如何检测尺寸类别 以便我们使用iPad的侧边栏 以及iPhone的标签栏 如果你不确定尺寸类别 可以参考Apple的人机界面指南中的 视觉设计 适应性和布局 在这里 你可以找到哪个设备 在纵向模式或横向模式下适用于哪个尺寸类别 最常见的是检测宽度尺寸类别 一共有两个类别 一是常规版 二是缩小版 现在 无论iPad是横向模式 还是纵向模式 宽度和高度都是常规版 纵向模式的iPhone的宽度都是缩小版 高度是常规版 但在横向模式下 它的宽度和高度都是缩小版 横向模式是常规宽度的唯一例外是 iPhone max plus 或XR的分辨率 但如果以宽度为主 就会发现iPad是常规尺寸 而iPhone是缩小尺寸 除非你在横向模式下使用iPhone 但只适用于较大的iPhone 那么 回到我们的代码 我们将转到导航内容视图 现在请注意 在iPhone和iPad的iOS中 我们都只在使用侧边栏 我们要给缩小版做的是 改为使用标签栏 为此 我们必须声明 一个环境变量 那么我们设置为@ 环境 双圆括号 反斜杠 点 横向 尺寸类别 变量 横向 尺寸类别 现在尺寸类别只适用于iOS 所以我们要确保 我们不在Mac上运行这个代码 那么我们把条件设为 井号 条件 OS iOS 然后是 井号 结束条件 然后在主体中 我们要设置一个条件 即 条件 横向尺寸类别 等于 等于 点 缩小 双花括号 其中包括标签栏 但我们还未创建 然后输入 其它 里面包括侧边栏 接下来 我们来创建顶端栏 点击Command+N 选择SwiftUI视图 输入标签栏 在这里 我们将只在iOS中 包含这个 创建任务栏还是相当简单的 首先 我们要把文本替换为 标签视图 双花括号 然后就可以在这里看到标签栏 我们将为每个视图添加每个标签 在这个例子中 我们先设置课程视图 双圆括号 然后在修饰符中输入点 标签项 然后内容可以设置一个图标 我们输入 图像 双圆括号 系统名称 然后输入SS符号的名称 也就是 书 点 关闭 至于文本 它会自动检测导航标题 但如果你想自定义文本 则可以添加文本 输入 文本 双圆括号 课程 现在我们没有导航视图 是因为 这是在侧边栏中设置的 所以我们也要在这里进行设置 我们要把课程视图包含到 导航视图中 输入导航视图 双花括号 然后把课程视图放到这里 那么现在修饰符由导航视图 代替了课程视图 现在你在这里看不到导航视图 因为我们把它设置为隐藏了 但我们可以重用这个代码 将导航视图 和标签项的修饰符用于其它标签 对于第二个 我们要使用 课程列表 将图标设置为 列表 点 标题符号 点 矩形 我们把这个命名为 教程 所以如果你播放预览 点击第二个标签 它将显示课程列表视图 这次因为导航栏没有设为隐藏 所以你能看到 现在我要重复这段代码并添加更多的标签 请放心地复制并粘贴文本内容中的代码 我们有 电视 用于 直播流媒体 有 邮件栈 用于 证书 放大镜 用 搜索 所有标签都将使用课程列表 作为占位符 直到我们有了那些屏幕 好了 既然我们不打算在课程视图中 使用导航栏 那么我们就要添加一个自定义的大标题 这样我们就可以在下面添加更多的内容 我们转到课程视图 向下滚动一点 找到滚动视图中的 内容 在使用LazyVGrid之前 我们要设置为 文本 课程 然后设置字体的修饰符 点 大标题 然后输入 点 粗体 除了使用h标签和留白外 我们也可以使用一种技巧 即 点 框架 和 最大宽度 到 点 无穷大 逗号 对齐 点 引导 我们应该加一些填充 输入 点 填充 16 然后 就像大标题一样 我们的顶部有了更多的填充 输入 点 填充 双圆括号 点 顶部 54 现在在大标题和项之间 有一个间距问题 要解决这个问题 就要把内容放进 v堆栈中 按住Command点击文本 嵌入v堆栈 还要把LazyVGrid也放进去 包括它的修饰符 也要放进那个v堆栈里 对于v堆栈 我们将设为 双圆括号 留白 到 零 这就解决了填充问题 现在这里的填充是用于各侧的 我们可以指定只用于 引导 很好 现在可以在项的网格下面 添加一些内容 先输入 课程行 双圆括号 然后设置为循环 按住Command点击 选择 重复 然后我们将队列设置为 课程部分 然后传递项 输入 项 到 项 现在 如果向下滚动 就可以看到一个课程行列表 如果在iPad上测试 就要选择11英寸的iPad 当然可以使用网格来让这些列表项目 生成多列 按住Command点击每个嵌入的v堆栈 将v堆栈替换为 Lazy VGrid 双圆括号 列 冒号 方括号 网格项 双圆括号 点 适应性 双圆括号 最小值 为240 很好 这看起来好多了 而且可以更好地利用现有的空间了 我们来添加一点填充 输入 点 填充 双圆括号 然后我们可以给这个列表添加一个标题 在使用LazyVGrid前 先设置为 文本 双圆括号 最新部分 然后设置为 点 字体粗细 为半粗体 还要加上 点 框架 双圆括号 最大宽度 点 无穷大 逗号 对齐 点 引导 框架后面 设置为 点 填充 双圆括号 不要忘了回到内容视图 缩小版尺寸 要设置为 标签栏 双圆括号 如果在这三个平台上运行应用程序 可以看到 这里的标题大致对齐到 左边的"学习"一栏 iPhone有标签栏 Mac也使用侧边栏 以及我们刚刚添加的额外内容 在下一节课上 我将讲解如何设置两种类型的导航 一种是使用导航链接 第二种是使用模态 我们下节课见